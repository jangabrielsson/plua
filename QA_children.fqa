{"apiVersion":"1.3","name":"Children","initialInterfaces":{},"initialProperties":{"uiCallbacks":{},"viewLayout":{"$jason":{"body":{"header":{"title":"quickApp_device_57","style":{"height":"0"}},"sections":{"items":{}}},"head":{"title":"quickApp_device_57"}}},"supportedDeviceRoles":["Light","Drencher","Pin","NightLamp","Kettle","Bracket","AirConditioner","AlarmAlarm","Coffee","GardenLamp","TvSet","CeilingFan","Toaster","Radio","RoofWindow","Other","AlarmState","AlarmArm","VideoGateBell","VideoGateOpen","Valve","Fan"],"userDescription":"","quickAppVariables":[{"value":9,"name":"X"}],"buildNumber":1,"useUiView":true,"deviceRole":"Light","useEmbededView":true,"typeTemplateInitialized":true,"uiView":{},"apiVersion":"1.3"},"type":"com.fibaro.binarySwitch","files":[{"name":"main","content":"--%%name:Children\n--%%type:com.fibaro.binarySwitch\n--%%debug:false\n--%%var:X=9\n--%%offline:true\n--%%save:QA_children.fqa\n\n---@class MyChild : QuickAppChild\nMyChild = {}\nclass 'MyChild'(QuickAppChild)\nfunction MyChild:__init(dev)\n  QuickAppChild.__init(self,dev)\n  self:debug(\"onInit\",self.name,self.id)\nend\nfunction MyChild:turnOn() self:updateProperty(\"value\",true) end\nfunction MyChild:turnOff() self:updateProperty(\"value\",false) end\n\nfunction QuickApp:onInit()\n  self:debug(self.name, self.id)\n\n  -- Create children\n  for i = 1,5 do \n    self:createChildDevice({name=\"MyChild\"..i,type=\"com.fibaro.binarySwitch\"},MyChild)\n  end\n  local children = api.get(\"/devices?parentId=\"..self.id)\n  for _,c in ipairs(children) do \n    print(c.name)\n  end\n\n  setInterval(function() \n    --setTimeout(function() end,10)\n    -- print(json.encode(fibaro.plua.lib.getRuntimeState()))\n  end,2000) \nend\n\nfunction QuickApp:turnOn() print(\"ON\") self:updateProperty(\"value\",true) end\nfunction QuickApp:turnOff() print(\"OFF\") self:updateProperty(\"value\",false) end","isOpen":false,"isMain":true,"type":"lua"}]}