{"apiVersion":"1.3","files":[{"content":"--%%name:Children\n--%%type:com.fibaro.binarySwitch\n--%%debug:false\n--%%var:X=9\n--%%offline:true\n--%%desktop:true\n--%%save:QA_children.fqa\n\n---@class MyChild : QuickAppChild\nMyChild = {}\nclass 'MyChild'(QuickAppChild)\nfunction MyChild:__init(dev)\n  QuickAppChild.__init(self,dev)\n  self:debug(\"onInit\",self.name,self.id)\nend\nfunction MyChild:turnOn() self:updateProperty(\"value\",true) end\nfunction MyChild:turnOff() self:updateProperty(\"value\",false) end\n\nfunction QuickApp:onInit()\n  self:debug(self.name, self.id)\n\n  -- Create children\n  for i = 1,5 do \n    self:createChildDevice({name=\"MyChild\"..i,type=\"com.fibaro.binarySwitch\"},MyChild)\n  end\n  local children = api.get(\"/devices?parentId=\"..self.id)\n  for _,c in ipairs(children) do \n    print(c.name)\n  end\n\n  setInterval(function() \n    --setTimeout(function() end,10)\n    -- print(json.encode(fibaro.plua.lib.getRuntimeState()))\n  end,2000) \nend\n\nfunction QuickApp:turnOn() print(\"ON\") self:updateProperty(\"value\",true) end\nfunction QuickApp:turnOff() print(\"OFF\") self:updateProperty(\"value\",false) end","isMain":true,"name":"main","type":"lua","isOpen":false}],"name":"Children","initialInterfaces":{},"type":"com.fibaro.binarySwitch","initialProperties":{"uiCallbacks":{},"apiVersion":"1.3","viewLayout":{"$jason":{"body":{"sections":{"items":{}},"header":{"title":"quickApp_device_57","style":{"height":"0"}}},"head":{"title":"quickApp_device_57"}}},"deviceRole":"Light","quickAppVariables":[{"name":"X","value":9}],"useUiView":true,"uiView":{},"userDescription":"","typeTemplateInitialized":true,"buildNumber":1,"useEmbededView":true,"supportedDeviceRoles":["Light","Drencher","Pin","NightLamp","Kettle","Bracket","AirConditioner","AlarmAlarm","Coffee","GardenLamp","TvSet","CeilingFan","Toaster","Radio","RoofWindow","Other","AlarmState","AlarmArm","VideoGateBell","VideoGateOpen","Valve","Fan"]}}